<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Dashboard de Avalia√ß√µes Escolares - Sistema de visualiza√ß√£o de dados educacionais da Secretaria Municipal de Educa√ß√£o de Aripuan√£">
    <meta name="keywords" content="educa√ß√£o, avalia√ß√µes, dashboard, escola, alunos">
    <meta name="author" content="Secretaria Municipal de Educa√ß√£o de Aripuan√£">
    
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' http://localhost:3000;">
    
    <title>Dashboard de Avalia√ß√µes Escolares</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìä</text></svg>">
</head>
<body>
    <a href="#main-content" class="skip-link">Pular para o conte√∫do principal</a>
    
    <header role="banner">
        <div style="text-align: center; margin-bottom: 20px;">
            <h1 style="color: #0096C7; margin: 0;">Dashboard de Avalia√ß√µes Escolares</h1>
            <p style="color: #64748b; margin: 5px 0 0; font-size: 1.1rem;">Secretaria Municipal de Educa√ß√£o de Aripuan√£</p>
        </div>
        <div class="theme-switcher-container">
            <span class="theme-icon" aria-hidden="true">‚òÄÔ∏è</span> 
            <label class="theme-switcher" for="theme-toggle">
                <input type="checkbox" id="theme-toggle" aria-label="Alternar entre modo claro e escuro">
                <span class="slider" role="presentation"></span>
            </label>
            <span class="theme-icon" aria-hidden="true">üåô</span>
        </div>
    </header>
	<section class="partners-section" role="complementary" aria-label="Logos de Parceiros">
        <div class="partners-container">
            <img src="images\logo_dre.svg" alt="Logo DRE" loading="lazy">
            <img src="images\logo_seduc.svg" alt="Logo SEDUC Mato Grosso" loading="lazy">
            <img src="images\logo_aripuana_mt.svg" alt="Logo Governo Mato Grosso" loading="lazy">
            <img src="images\logo_avalia_mt.svg" alt="Logo AvaliaMT" loading="lazy">
            <img src="images\logo_undime.svg" alt="Logo Undime MT" loading="lazy">
            <img src="images\logo_compromisso_crianca.svg" alt="Logo Compromisso Crian√ßa Alfabetizada" loading="lazy">
            <img src="images\logo_alfabetiza_mt.svg" alt="Logo Alfabetiza MT" loading="lazy">
        </div>
    </section>

    <main id="main-content" role="main">
        <section class="filters" role="region" aria-labelledby="filters-heading">
            <h2 id="filters-heading" class="sr-only">Filtros de Dados</h2>
            
            <div class="filter-group" role="group">
                <label for="school-filter">Escola:</label>
                <select id="school-filter"></select>
            </div>
            
            <div class="filter-group" role="group">
                <label for="evaluation-filter">Avalia√ß√£o:</label>
                <select id="evaluation-filter"></select>
            </div>
            
            <div class="filter-group" id="level-filter-group" style="display: none;" role="group">
                <label for="level-filter">N√≠vel/Classifica√ß√£o:</label>
                <select id="level-filter"></select>
            </div>
            
            <div class="filter-group" id="nse-filter-group" style="display: none;" role="group">
                <label for="nse-filter">Benefici√°rio Social?:</label>
                <select id="nse-filter"></select>
            </div>
            
            <div class="filter-group" id="cor-raca-filter-group" style="display: none;" role="group">
                <label for="cor-raca-filter">Cor/Ra√ßa:</label>
                <select id="cor-raca-filter"></select>
            </div>
            
            <div class="filter-group" id="inclusao-filter-group" style="display: none;" role="group">
                <label for="inclusao-filter">Aluno PCD?:</label>
                <select id="inclusao-filter"></select>
            </div>
            
            <div class="filter-group" id="transporte-filter-group" style="display: none;" role="group">
                <label for="transporte-filter">Utiliza Transporte Escolar:</label>
                <select id="transporte-filter"></select>
            </div>
            
            <div class="filter-group" role="group">
                <label for="year-filter">Etapa de Ensino:</label>
                <select id="year-filter"></select>
            </div>
            
            <div class="filter-group" role="group">
                <label for="turma-filter">Turma:</label>
                <select id="turma-filter"></select>
            </div>
            
            <button id="apply-filters" type="button" aria-label="Aplicar filtros selecionados">Aplicar Filtros</button>
            <button id="clear-filters" type="button" aria-label="Limpar todos os filtros">Limpar Filtros</button>
        </section>

        <section id="summary-section" style="display: none;" role="region" aria-labelledby="summary-heading">
            <h2 id="summary-heading" class="section-title">Resumo dos Dados Filtrados</h2>
            <div class="summary-stats-container">
                <div id="total-card" class="summary-card">
                    <h4 class="card-title">Total de Alunos na Sele√ß√£o</h4>
                    <div id="total-card-content"></div>
                </div>
                <div id="dist-card" class="summary-card level-dist-card">
                    <h4 class="card-title">Distribui√ß√£o por N√≠veis</h4>
                    <div id="dist-card-content"></div>
                </div>
                <div id="chart-card" class="summary-card chart-card-container">
                    <h4 id="chart-card-title" class="card-title">Distribui√ß√£o Visual</h4>
                    <div class="chart-container">
                        <canvas id="fluenciaChart" aria-label="Gr√°fico de pizza com a distribui√ß√£o de alunos por n√≠vel"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section class="data-display" role="region" aria-labelledby="data-heading">
            <div class="data-display-header">
                <h2 id="data-heading">Dados Detalhados</h2>
                <div class="table-controls-container" style="display: flex; gap: 1rem; align-items: end;">
                    <div class="search-container">
                        <label for="student-search">Pesquisar Aluno:</label>
                        <input type="text" id="student-search" placeholder="Filtrar por nome na tabela...">
                    </div>
                    <div class="pagination-size-container">
                        <label for="rows-per-page">Resultados por p√°gina:</label>
                        <select id="rows-per-page">
                            <option value="15">15</option>
                            <option value="30">30</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div id="top-scroll-container" aria-hidden="true" style="display: none;">
                <div id="top-scroll-bar"></div>
            </div>
            
            <div id="data-table-container" role="region" aria-labelledby="table-heading" tabindex="0">
                <h3 id="table-heading" class="sr-only">Tabela de dados dos alunos</h3>
            </div>
            
            <nav id="pagination-controls" class="pagination-container" role="navigation" aria-label="Navega√ß√£o de p√°ginas"></nav>
        </section>

        <section id="school-performance-section" role="region" aria-labelledby="school-chart-heading" style="display: none;">
            <h2 id="school-chart-heading" class="section-title">Desempenho Comparativo por Escola</h2>
            <div class="summary-card comparative-chart-card">
                 <div class="chart-container">
                    <canvas id="schoolPerformanceChart" aria-label="Gr√°fico de barras mostrando o desempenho das escolas"></canvas>
                </div>
            </div>
        </section>
        
    </main>

    <footer role="contentinfo">
        <p>&copy; 2025 Sistema de Avalia√ß√£o Educacional | Desenvolvido por Secretaria Municipal de Educa√ß√£o de Aripuan√£</p>
    </footer>

    <div id="loading-indicator" style="display: none;" role="status" aria-live="polite">
        <div class="loading-content">
            <div class="loading-spinner" aria-hidden="true"></div>
            <p id="loading-message">Carregando...</p>
        </div>
    </div>

    <div id="notification-container" aria-live="polite" aria-atomic="true"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
    <script src="script.js"></script>
</body>
</html>